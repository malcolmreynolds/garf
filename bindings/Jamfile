import python ;

if ! [ python.configured ]
{
    ECHO "notice: no Python configured in user-config.jam" ;
    ECHO "notice: will use default configuration" ;
    using python ;
}


project
    : requirements <library>/boost/python//boost_python ;

lib boost_random
    :
    : <file>$(BOOST_LIB_DIR)/libboost_random.$(LIB_EXT) ;

python-extension _garf
    : garf.cpp ../src/forest_utils.cpp ../src/forest_params.cpp boost_random
    : <define>BUILD_PYTHON_BINDINGS
      <include>$(BOOST_INC_DIR)
      <include>../src
      <include>$(PY_SITE_PACK_DIR)/numpy/core/include
      <include>$(PYUBLAS_INC_DIR) ;

python-extension py_modify
    : py_modify.cpp
    : <define>BUILD_PYTHON_BINDINGS
      <include>$(BOOST_INC_DIR)
      <include>../
      <include>$(PY_SITE_PACK_DIR)/numpy/core/include
      <include>$(PYUBLAS_INC_DIR)  ;
    
install garf_so_install
    : _garf
    : <install-dependencies>on <install-type>SHARED_LIB
      <install-type>PYTHON_EXTENSION <location>../python ;
      
install py_modify_so_install
    : py_modify
    : <install-dependencies>on <install-type>SHARED_LIB
      <install-type>PYTHON_EXTENSION <location>../python ;
    